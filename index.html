<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>VertragsCheck â€“ KI Vertrags-ErklÃ¤rer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #0f172a;
      --bg-card: #0b1120;
      --border-card: #1e293b;
      --accent: #2563eb;
      --accent-dark: #1e40af;
      --accent-soft: #1d4ed8;
      --text-main: #e5e7eb;
      --text-muted: #9ca3af;
      --danger: #ef4444;
      --danger-soft: #fee2e2;
      --success: #22c55e;
    }
    *,*::before,*::after{box-sizing:border-box;}
    body{
      margin:0;
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background:radial-gradient(circle at top,#1e293b 0,#020617 50%,#000 100%);
      color:var(--text-main);
      min-height:100vh;
    }
    .app{max-width:960px;margin:0 auto;padding:24px 16px 40px;}
    .app-header{text-align:center;margin-bottom:24px;}
    .logo{font-size:28px;font-weight:800;letter-spacing:.03em;}
    .logo span{color:var(--accent);}
    .subtitle{margin-top:8px;color:var(--text-muted);font-size:14px;}
    .app-main{display:grid;gap:16px;}
    @media (min-width:900px){
      .app-main{grid-template-columns:minmax(0,1.1fr) minmax(0,1fr);align-items:flex-start;}
    }
    .card{
      background:linear-gradient(145deg,#020617 0%,#020617 40%,#020617 80%);
      border-radius:18px;
      border:1px solid var(--border-card);
      padding:18px 18px 20px;
      box-shadow:0 18px 60px rgba(15,23,42,.8);
    }
    .card h2{font-size:18px;margin:0 0 8px;}
    .hint{font-size:13px;color:var(--text-muted);margin-bottom:12px;}
    .file-label{
      display:inline-flex;align-items:center;justify-content:center;gap:8px;
      border-radius:999px;padding:10px 18px;border:1px dashed #334155;
      background:rgba(15,23,42,.7);color:var(--text-main);font-size:14px;
      cursor:pointer;transition:background .15s,border-color .15s,transform .05s;
    }
    .file-label:hover{background:#020617;border-color:var(--accent);transform:translateY(-1px);}
    .file-label input{display:none;}
    .divider{margin:14px 0;text-align:center;font-size:12px;color:var(--text-muted);position:relative;}
    .divider::before,.divider::after{
      content:"";position:absolute;top:50%;width:35%;height:1px;background:#1f2937;
    }
    .divider::before{left:0;}
    .divider::after{right:0;}
    textarea{
      width:100%;min-height:160px;max-height:260px;resize:vertical;
      border-radius:14px;border:1px solid #1f2937;
      background:rgba(15,23,42,.85);color:var(--text-main);
      padding:10px 12px;font-size:14px;outline:none;
      transition:border-color .15s,box-shadow .15s,background .15s;
    }
    textarea::placeholder{color:#475569;}
    textarea:focus{
      border-color:var(--accent);
      box-shadow:0 0 0 1px rgba(37,99,235,.4);
      background:#020617;
    }
    .primary-btn,.secondary-btn{
      border-radius:999px;border:none;padding:10px 18px;font-size:14px;
      cursor:pointer;font-weight:500;display:inline-flex;align-items:center;justify-content:center;gap:6px;
      transition:background .15s,transform .05s,box-shadow .15s;
    }
    .primary-btn{
      margin-top:12px;
      background:linear-gradient(135deg,var(--accent-soft),var(--accent-dark));
      color:#fff;box-shadow:0 12px 25px rgba(37,99,235,.5);
    }
    .primary-btn:hover{transform:translateY(-1px);box-shadow:0 18px 32px rgba(37,99,235,.65);}
    .primary-btn:active{transform:translateY(0);box-shadow:0 6px 18px rgba(37,99,235,.4);}
    .secondary-btn{background:rgba(15,23,42,.9);color:var(--text-main);border:1px solid #1f2937;}
    .secondary-btn:hover{background:#020617;}
    .privacy-note{margin-top:10px;font-size:12px;color:var(--text-muted);}
    .result-card h2{margin-bottom:12px;}
    .result-section{margin-bottom:14px;}
    .result-section h3{font-size:14px;margin:0 0 6px;}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(130px,1fr));gap:6px;}
    .info-pill{
      padding:8px 10px;border-radius:12px;
      background:rgba(15,23,42,.8);border:1px solid #1f2937;
      display:flex;flex-direction:column;gap:2px;
    }
    .info-pill .label{font-size:11px;color:var(--text-muted);}
    .info-pill .value{font-size:13px;}
    .plain-text{font-size:13px;color:var(--text-main);}
    .risks-list{list-style:none;padding-left:16px;margin:0;font-size:13px;}
    .risks-list li::before{content:"â€¢ ";margin-left:-10px;margin-right:4px;color:var(--danger);}
    .risks-list li{margin-bottom:4px;}
    .action-section textarea{min-height:120px;max-height:220px;}
    .action-buttons{margin-top:8px;display:flex;gap:8px;flex-wrap:wrap;}
    .loading{
      display:flex;align-items:center;gap:10px;padding:8px 10px;
      background:rgba(15,23,42,.8);border-radius:12px;border:1px solid #1f2937;margin-bottom:10px;
    }
    .spinner{
      width:16px;height:16px;border-radius:999px;border:2px solid #1f2937;
      border-top-color:var(--accent);animation:spin .8s linear infinite;
    }
    @keyframes spin{to{transform:rotate(360deg);}}
    .error-box{
      padding:8px 10px;border-radius:10px;background:var(--danger-soft);
      color:#7f1d1d;font-size:12px;margin-bottom:10px;
    }
    .hidden{display:none;}
    .app-footer{margin-top:22px;text-align:center;font-size:11px;color:var(--text-muted);}
  </style>
</head>
<body>
  <div class="app">
    <header class="app-header">
      <div class="logo">Vertrags<span>Check</span></div>
      <p class="subtitle">Lade deinen Vertrag hoch oder fÃ¼ge Text ein â€“ die KI erklÃ¤rt dir alles in Klartext.</p>
    </header>

    <main class="app-main">
      <section class="card upload-card">
        <h2>1. Vertrag eingeben</h2>
        <p class="hint">
          FÃ¼r das MVP kannst du deinen Vertragstext hier einfÃ¼gen oder eine <strong>.txt</strong>-Datei hochladen.
          PDF/Foto-UnterstÃ¼tzung kann spÃ¤ter ergÃ¤nzt werden (z.B. mit OCR).
        </p>

        <label class="file-label">
          <input type="file" id="fileInput" accept=".txt" />
          <span>ðŸ“„ Text-Datei wÃ¤hlen (.txt)</span>
        </label>

        <div class="divider">oder</div>

        <textarea id="contractText" placeholder="Vertragstext hier einfÃ¼gen..."></textarea>

        <button id="analyzeBtn" class="primary-btn">Vertrag analysieren</button>

        <p class="privacy-note">
          ðŸ”’ Wir speichern deine Daten nicht. Alles wird nur fÃ¼r diese Analyse verwendet.
        </p>
      </section>

      <section class="card result-card hidden" id="resultCard">
        <h2>2. Analyse-Ergebnis</h2>

        <div id="loading" class="loading hidden">
          <div class="spinner"></div>
          <p>Dein Vertrag wird analysiert...</p>
        </div>

        <div id="errorBox" class="error-box hidden"></div>

        <div id="resultContent" class="result-content hidden">
          <section class="result-section">
            <h3>Ãœberblick</h3>
            <div class="grid">
              <div class="info-pill">
                <span class="label">Vertragsart</span>
                <span class="value" id="contractType">â€“</span>
              </div>
              <div class="info-pill">
                <span class="label">Monatliche Kosten</span>
                <span class="value" id="monthlyCost">â€“</span>
              </div>
              <div class="info-pill">
                <span class="label">Laufzeit</span>
                <span class="value" id="term">â€“</span>
              </div>
              <div class="info-pill">
                <span class="label">KÃ¼ndigungsfrist</span>
                <span class="value" id="cancellationPeriod">â€“</span>
              </div>
              <div class="info-pill">
                <span class="label">VerlÃ¤ngerung</span>
                <span class="value" id="renewal">â€“</span>
              </div>
            </div>
          </section>

          <section class="result-section">
            <h3>Klartext-ErklÃ¤rung</h3>
            <p id="plainExplanation" class="plain-text"></p>
          </section>

          <section class="result-section">
            <h3>Risiken & Hinweise</h3>
            <ul id="risksList" class="risks-list"></ul>
          </section>

          <section class="result-section">
            <h3>KÃ¼ndigungsstatus</h3>
            <p id="cancellationStatus" class="plain-text"></p>
          </section>

          <section class="result-section action-section">
            <h3>KÃ¼ndigungsschreiben</h3>
            <textarea id="terminationLetter" readonly></textarea>
            <div class="action-buttons">
              <button id="copyLetterBtn" class="secondary-btn">Text kopieren</button>
            </div>
          </section>
        </div>
      </section>
    </main>

    <footer class="app-footer">
      <p>VertragsCheck â€“ MVP-Prototyp. KI lÃ¤uft Ã¼ber die OpenAI-API (API-Key als Umgebungsvariable).</p>
      <p>Hinweis: Dies ersetzt keine Rechtsberatung, sondern hilft dir, VertrÃ¤ge besser zu verstehen.</p>
    </footer>
  </div>

  <script src="script.js"></script>
</body>
</html>
